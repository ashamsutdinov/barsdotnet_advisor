@using System.Collections.Generic;
@using UI.Models;

@model IEnumerable<ProductModel>
    @{
        ViewBag.Title = "TOP";
    }
    
    <br>
    <table>
        <tr>

            <td width="20%"></td>
            <td width="60%">
                <table>
                    <h2><font color="green"><center> ТОП популярных товаров</center></font></h2>
                    <br>
                    <br>
                    @if (Model.Count() == 0)
                    {
                        <p>Вы просмотрели все имеющиеся товары</p>
                        <a href="/Search/Top/@(ViewBag.page-1)">Предыдущая страница</a>
                    }
                    else
                    {
                        foreach (ProductModel b in Model)
                        {
                            <tr>
                                <td><p><a href="/ProductData/Index/@b.Id">@b.Name</a></p></td>
                                <td><p>@b.Category</p></td>
                                <td><p>от @b.MinValue рублей</p></td>
                                <td><p></p></td>
                            </tr>
                        }
                        if (ViewBag.page > 1)
                        {
                           <tr><td> <a href="/Search/Top/@(ViewBag.page-1)">Предыдущая страница</a></td></tr>
                        }
                         <tr><td><a href="/Search/Top/@(ViewBag.page+1)">Следующая страница</a></td></tr>
                    }
                    </table>
                    <td width="20%">

                        <img src="/Content/Images/1place.jpg" width="150" height="150" align="right">
                    </td>
            </tr></table>